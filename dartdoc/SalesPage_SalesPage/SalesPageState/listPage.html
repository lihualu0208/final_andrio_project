<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the listPage method from the SalesPageState class, for the Dart programming language.">
  <title>listPage method - SalesPageState class - SalesPage library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">
  
</head>

<body data-base-href="../../" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">final_andrio_project</a></li>
    <li><a href="../../SalesPage_SalesPage/">SalesPage\SalesPage.dart</a></li>
    <li><a href="../../SalesPage_SalesPage/SalesPageState-class.html">SalesPageState</a></li>
    <li class="self-crumb">listPage method</li>
  </ol>
  <div class="self-name">listPage</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
<div
    id="dartdoc-main-content"
    class="main-content"
    data-above-sidebar="SalesPage_SalesPage&#47;SalesPageState-class-sidebar.html"
    data-below-sidebar="">
    <div>
<h1><span class="kind-method">listPage</span> method 
</h1></div>

    <section class="multi-line-signature">
      
<span class="returntype"><a href="https://api.flutter.dev/flutter/widgets/Widget-class.html">Widget</a></span>
<span class="name ">listPage</span>(<wbr>)

      

    </section>
    
<section class="desc markdown">
  <p>Widget to return the list portion of the page, containing input textFields
for record fields an add button to add record to database and list, and
the output of the list of returned SalesRecords objects for viewing and selection
to display in detailsPage widget</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Widget listPage(){
  return Column(children: [
    Row(
        mainAxisAlignment: MainAxisAlignment.spaceBetween,
        children:[

          Expanded(child: TextField(
            controller: _controller0,
            decoration: InputDecoration(
                hintText: &quot;${AppLocalizations.of(context)!.translate(&#39;Title&#39;)}&quot;,
                border: OutlineInputBorder()
            ),
          )),

          Expanded(child: TextField(
            controller: _controller1,
            decoration: InputDecoration(
                hintText: &quot;${AppLocalizations.of(context)!.translate(&#39;CustID&#39;)}&quot;,
                border: OutlineInputBorder()
            ),
          )),

          Expanded(child: TextField(
              controller: _controller2,
              decoration: InputDecoration(
                  hintText: &quot;${AppLocalizations.of(context)!.translate(&#39;CarID&#39;)}&quot;,
                  border: OutlineInputBorder()

              ))
          ),
          Expanded(child: TextField(
              controller: _controller3,
              decoration: InputDecoration(
                  hintText: &quot;${AppLocalizations.of(context)!.translate(&#39;DID&#39;)}&quot;,
                  border: OutlineInputBorder()

              ))
          ),
          Expanded(child: TextField(
              controller: _controller4,
              decoration: InputDecoration(
                  hintText: &quot;${AppLocalizations.of(context)!.translate(&#39;Date&#39;)}&quot;,
                  border: OutlineInputBorder()

              ))
          ),

          ElevatedButton(
              onPressed: () {
                if (_controller0.text.trim().isEmpty ||
                    _controller1.text.trim().isEmpty ||
                    _controller2.text.trim().isEmpty ||
                    _controller3.text.trim().isEmpty ||
                    _controller4.text.trim().isEmpty){
                  &#47;&#47;&#47;a snackBar item to reveal a popup to notify of empty fields
                  var popUp = SnackBar(
                    content: Text(&quot;${AppLocalizations.of(context)!.translate(&#39;FailMsg&#39;)}&quot;),
                    duration: Duration(seconds: 60),
                    action: SnackBarAction(label: &quot;OK&quot;, onPressed: () {
                      ScaffoldMessenger.of(context)
                          .hideCurrentSnackBar();}),
                  );
                  ScaffoldMessenger.of(context).showSnackBar(popUp);
                } else if (_controller0.text.trim().isNotEmpty ||
                    _controller1.text.trim().isNotEmpty ||
                    _controller2.text.trim().isNotEmpty ||
                    _controller3.text.trim().isNotEmpty ||
                    _controller4.text.trim().isEmpty){
                  &#47;&#47;&#47;variable to hold input in Title textfield
                  var inputTitle = _controller0.value.text;
                  &#47;&#47;&#47;variable to hold input in Customer ID textfield
                  var inputCustID = _controller1.value.text;
                  &#47;&#47;&#47;variable to hold input in CarID textfield
                  var inputCarID = _controller2.value.text;
                  &#47;&#47;&#47;variable to hold input in Dealer ID textfield
                  var inputDealerID = _controller3.value.text;
                  &#47;&#47;&#47;variable to hold input in date textfield
                  var inputDate = _controller4.value.text;

                  &#47;&#47;&#47;instance of EncryptedSharedPreferences to store
                  &#47;&#47;&#47;previous inputs for autofill upon page reaccess based
                  &#47;&#47;&#47;on user choice
                  final prefs = EncryptedSharedPreferences();
                  showDialog(context: context,
                      builder: (BuildContext context) =&gt; AlertDialog(

                        content: Text(&quot;${AppLocalizations.of(context)!.translate(&#39;Save&#39;)}&quot;),
                        actions: &lt;Widget&gt;[

                          ElevatedButton(onPressed: () {
                            prefs.setString(&quot;SalesPageTitle&quot;, inputTitle);
                            prefs.setString(&quot;SalesPageCustID&quot;, inputCustID);
                            prefs.setString(&quot;SalesPageCarID&quot;, inputCarID);
                            prefs.setString(&quot;SalesPageDID&quot;, inputDealerID);
                            prefs.setString(&quot;SalesPageDate&quot;, inputDate);
                            Navigator.pop(context);
                          }, child: Text(&quot;${AppLocalizations.of(context)!.translate(&#39;Yes&#39;)}&quot;)),

                          ElevatedButton(onPressed: () {
                            prefs.clear();
                            Navigator.pop(context);
                          }, child: Text(&quot;${AppLocalizations.of(context)!.translate(&#39;No&#39;)}&quot;))
                        ],
                      ));
                  setState(() {
                    &#47;&#47;&#47;create new object of SalesRecord class to add to
                    &#47;&#47;&#47;database
                    var newRecord = SalesRecords(
                        SalesRecords.ID++,
                        inputTitle,
                        int.parse(inputCustID),
                        int.parse(inputCarID),
                        int.parse(inputDealerID),
                        inputDate
                    );
                    daoObj.addSalesRecord(newRecord);
                    records.add(newRecord);
                  });
                  _controller0.text = &quot;&quot;;
                  _controller1.text = &quot;&quot;;
                  _controller2.text = &quot;&quot;;
                  _controller3.text = &quot;&quot;;
                  _controller4.text = &quot;&quot;;
                }

              },
              child: Text(&quot;${AppLocalizations.of(context)!.translate(&#39;Add&#39;)}&quot;)
          ),

        ]),


    Expanded(child:
    ListView.builder(
        itemCount: records.length,
        itemBuilder: (context, rowNumber) {
          if (records.isEmpty) {
            return Row(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [Text(&quot;${AppLocalizations.of(context)!.translate(&#39;NoVals&#39;)}&quot;)],
            );

          } else if (records.isNotEmpty){
            return GestureDetector(
                onTap: (){
                  setState(() {
                    selectedItem = records[rowNumber];
                  });
                },

                child:
                Row(
                  mainAxisAlignment: MainAxisAlignment.center,
                  children: [
                    Text(&quot;${rowNumber+1}: ${records[rowNumber].title}&quot;)
                  ],
                )
            );
          }
        }
    )
    )
  ],);
}</code></pre>
</section>


  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../../index.html">final_andrio_project</a></li>
    <li><a href="../../SalesPage_SalesPage/">SalesPage</a></li>
    <li><a href="../../SalesPage_SalesPage/SalesPageState-class.html">SalesPageState</a></li>
    <li class="self-crumb">listPage method</li>
</ol>

    <h5>SalesPageState class</h5>
    <div id="dartdoc-sidebar-left-content"></div>
  </div><!--/.sidebar-offcanvas-->
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
</div><!--/.sidebar-offcanvas-->
</main>
<footer>
  <span class="no-break">
    final_andrio_project
      1.0.0+1
  </span>
  
</footer>


<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>

</body>
</html>

